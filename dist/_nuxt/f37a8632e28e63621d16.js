(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{196:function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,r){var n=r(2)(r(15),r(18),null,null);n.options.__file="/Users/fromatob/Projects/vue-stripe-elements/src/StripeElement.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] StripeElement.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={stripe:{type:[String,Object],required:!0},value:{type:String,required:!1},options:{type:Object,required:!1}}},function(e,t){e.exports=function(e,t,r,n){var o,u=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,u=e.default);var i="function"==typeof u?u.options:u;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),r&&(i._scopeId=r),n){var c=i.computed||(i.computed={});Object.keys(n).forEach(function(e){var t=n[e];c[e]=function(){return t}})}return{esModule:o,exports:u,options:i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.create=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===(void 0===e?"undefined":s(e))&&"function"==typeof e.elements&&(i.instance=e),void 0===window.Stripe&&null===i.instance?console.error("Stripe V3 library not loaded!"):null===i.instance&&(i.instance=window.Stripe(e)),i.instance.elements?null===i.elements&&(i.elements=i.instance.elements(t)):console.error("Stripe V3 library not loaded!")})(t,r.elements||{}),r.style=Object.assign(n,r.style||{});var o=i.elements.create(e,r);return i.createToken=function(e){return i.instance.createToken(o,e)},i.createSource=function(e){return i.instance.createSource(o,e)},i.retrieveSource=function(e){return i.instance.retrieveSource(e)},o},t.destroy=function(){i.instance=null,i.elements=null,i.createToken=null,i.createSource=null,i.retrieveSource=null};var i=t.Stripe={instance:null,createToken:null,createSource:null,retrieveSource:null,elements:null},n=t.baseStyle={base:{color:"#32325d",lineHeight:"24px",fontFamily:"Helvetica Neue",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},function(e,t,r){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r}),e.exports=Object.assign},function(e,t,r){var n=r(2)(r(10),r(22),null,null);n.options.__file="/Users/fromatob/Projects/vue-stripe-elements/src/Card.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] Card.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},function(e,t,r){var n=r(2)(r(11),r(19),null,null);n.options.__file="/Users/fromatob/Projects/vue-stripe-elements/src/CardCvc.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] CardCvc.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},function(e,t,r){var n=r(2)(r(12),r(21),null,null);n.options.__file="/Users/fromatob/Projects/vue-stripe-elements/src/CardExpiry.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] CardExpiry.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},function(e,t,r){var n=r(2)(r(13),r(20),null,null);n.options.__file="/Users/fromatob/Projects/vue-stripe-elements/src/CardNumber.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] CardNumber.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},function(e,t,r){var n=r(2)(r(14),r(17),null,null);n.options.__file="/Users/fromatob/Projects/vue-stripe-elements/src/PostalCode.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] PostalCode.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),u=n(o),s=r(0),i=n(s);t.default={props:u.default,components:{StripeElement:i.default},methods:{blur:function(){this.$refs.element.blur()},clear:function(){this.$refs.element.clear()},focus:function(){this.$refs.element.focus()},update:function(e){this.$refs.element.update(e)}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),u=n(o),s=r(0),i=n(s);t.default={props:u.default,components:{StripeElement:i.default},methods:{blur:function(){this.$refs.element.blur()},clear:function(){this.$refs.element.clear()},focus:function(){this.$refs.element.focus()},update:function(e){this.$refs.element.update(e)}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),u=n(o),s=r(0),i=n(s);t.default={props:u.default,components:{StripeElement:i.default},methods:{blur:function(){this.$refs.element.blur()},clear:function(){this.$refs.element.clear()},focus:function(){this.$refs.element.focus()},update:function(e){this.$refs.element.update(e)}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),u=n(o),s=r(0),i=n(s);t.default={props:u.default,components:{StripeElement:i.default},methods:{blur:function(){this.$refs.element.blur()},clear:function(){this.$refs.element.clear()},focus:function(){this.$refs.element.focus()},update:function(e){this.$refs.element.update(e)}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),u=n(o),s=r(0),i=n(s);t.default={props:u.default,components:{StripeElement:i.default},methods:{blur:function(){this.$refs.element.blur()},clear:function(){this.$refs.element.clear()},focus:function(){this.$refs.element.focus()},update:function(e){this.$refs.element.update(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),u=r(3);t.default={props:Object.assign({type:{type:String,required:!0}},o.default),beforeMount:function(){var e=this;this._element=(0,u.create)(this.type,this.stripe,this.options),this._element.on("blur",function(t){return e.$emit("blur")}),this._element.on("focus",function(t){return e.$emit("focus")}),this._element.on("change",function(t){return e.$emit("change",t)})},mounted:function(){var e=document.createElement("div");this._element.mount(e),this.$el.appendChild(e)},beforeDestroy:function(){this._element.unmount(),this._element.destroy(),(0,u.destroy)()},methods:{blur:function(){this._element.blur()},clear:function(){this._element.clear()},focus:function(){this._element.focus()},update:function(){this._element.update()}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r(4);var o=r(3),u=r(0),s=n(u),i=r(5),c=n(i),l=r(7),d=n(l),a=r(6),p=n(a),f=r(8),m=n(f),v=r(9),h=n(v);e.exports={Card:c.default,CardNumber:m.default,CardExpiry:d.default,CardCvc:p.default,PostalCode:h.default,StripeElement:s.default,baseStyle:o.baseStyle,get instance(){return o.Stripe.instance},get createToken(){return o.Stripe.createToken},get createSource(){return o.Stripe.createSource},get retrieveSource(){return o.Stripe.retrieveSource}}},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("stripe-element",{ref:"element",attrs:{type:"postalCode",stripe:e.stripe,value:e.value,options:e.options},on:{blur:function(t){e.$emit("blur")},focus:function(t){e.$emit("focus")},empty:function(t){e.$emit("empty")},change:function(t){e.$emit("change",t)}}})},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,r){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("stripe-element",{ref:"element",attrs:{type:"cardCvc",stripe:e.stripe,value:e.value,options:e.options},on:{blur:function(t){e.$emit("blur")},focus:function(t){e.$emit("focus")},change:function(t){e.$emit("change",t)}}})},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("stripe-element",{ref:"element",attrs:{type:"cardNumber",stripe:e.stripe,value:e.value,options:e.options},on:{blur:function(t){e.$emit("blur")},focus:function(t){e.$emit("focus")},change:function(t){e.$emit("change",t)}}})},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("stripe-element",{ref:"element",attrs:{type:"cardExpiry",stripe:e.stripe,value:e.value,options:e.options},on:{blur:function(t){e.$emit("blur")},focus:function(t){e.$emit("focus")},change:function(t){e.$emit("change",t)}}})},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("stripe-element",{ref:"element",attrs:{type:"card",stripe:e.stripe,value:e.value,options:e.options},on:{blur:function(t){e.$emit("blur")},focus:function(t){e.$emit("focus")},change:function(t){e.$emit("change",t)}}})},staticRenderFns:[]},e.exports.render._withStripped=!0}])},219:function(e,t,r){"use strict";r.r(t);r(5),r(3),r(2),r(1),r(4),r(79);var n=r(24),o=r(0),c=r(196),l=r(46),main=r(187);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable})),t.push.apply(t,r)}return t}var f,m=new(r.n(main).a)("http://localhost:1337"),v={components:{Card:c.Card},data:function(){return{address:"",postalCode:"",city:"",loading:!1}},computed:{id:function(){return this.$route.params.id},dishes:function(){return this.$store.getters["dishes/list"]},selectedDishes:function(){return this.$store.getters["card/items"]},price:function(){return this.$store.getters["card/price"]},numberOfItems:function(){return this.$store.getters["card/numberOfItems"]}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach(function(t){Object(o.a)(e,t,source[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))})}return e}({handleSubmit:(f=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,Object(c.createToken)();case 4:r=e.sent,t=r.token.id,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),alert("An error occurred."),this.loading=!1,e.abrupt("return");case 13:return e.prev=13,e.next=16,m.createEntry("orders",{amount:this.$store.getters["card/price"],dishes:this.$store.getters["card/items"],address:this.address,postalCode:this.postalCode,city:this.city,token:t});case 16:alert("Your order have been successfully submitted."),this.emptyCard(),this.$router.push("/"),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(13),this.loading=!1,alert("An error occurred.");case 25:case"end":return e.stop()}},e,this,[[1,8],[13,21]])})),function(){return f.apply(this,arguments)})},Object(l.b)({addToCard:"card/add",removeFromCard:"card/remove",emptyCard:"card/emptyList"}))},h=r(29),component=Object(h.a)(v,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"container"},[r("div",[r("h1",{staticClass:"mt-2"},[e._v("Checkout")]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 offset-md-3 mt-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[e._v("Card")]),e._v(" "),r("p",{staticClass:"card-text"},[e._v(e._s(e.numberOfItems)+" items selected:")]),e._v(" "),r("ul",e._l(e.selectedDishes,function(t){return r("li",{key:t.id,staticClass:"card-text mb-2"},[e._v("\n                Name: "+e._s(t.name)+" ($"+e._s(t.price)+") ("+e._s(t.quantity)+")\n                "),r("button",{staticClass:"btn btn-sm btn-success",on:{click:function(r){return e.addToCard(t)}}},[e._v("\n                  +\n                ")]),e._v(" "),r("button",{staticClass:"btn btn-sm btn-warning ml-2",on:{click:function(r){return e.removeFromCard(t)}}},[e._v("\n                  -\n                ")])])}),0),e._v(" "),r("h5",{staticClass:"card-text"},[e._v("Total: $"+e._s(e.price))]),e._v(" "),e.selectedDishes.length?e._e():r("p",[e._v("Please select some items.")])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 offset-md-3 mt-3"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"address"}},[e._v("Address")]),e._v(" "),r("b-form-input",{attrs:{id:"address",type:"text",autofocus:"true",placeholder:"Enter your address",required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"postalCode"}},[e._v("Postal Code")]),e._v(" "),r("b-form-input",{attrs:{id:"postalCode",type:"text",autofocus:"true",placeholder:"Enter your postal code",required:""},model:{value:e.postalCode,callback:function(t){e.postalCode=t},expression:"postalCode"}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"city"}},[e._v("City")]),e._v(" "),r("b-form-input",{attrs:{id:"city",type:"text",autofocus:"true",placeholder:"Enter your city",required:""},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"card"}},[e._v("Card")]),e._v(" "),r("card",{staticClass:"form-control",attrs:{stripe:"pk_test_stripe"}})],1),e._v(" "),r("button",{staticClass:"btn btn-primary btn-block mt-3",attrs:{disabled:e.loading,type:"submit"}},[e._v("\n            Submit\n          ")])])])])])])},[],!1,null,null,null);t.default=component.exports}}]);